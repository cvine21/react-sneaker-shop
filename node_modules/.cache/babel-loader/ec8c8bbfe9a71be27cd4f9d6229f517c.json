{"ast":null,"code":"var _jsxFileName = \"/Users/cvine/frontend/react/react-sneaker-shop/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Header from \"./components/Header\";\nimport Drawer from \"./components/Drawer/Drawer\";\nimport AppContext from \"./context\";\nimport Orders from \"./pages/Orders\";\nimport Home from \"./pages/Home\";\nimport Favourites from \"./pages/Favourites\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [favourites, setFavourites] = useState([]);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [cartOpened, setCartOpened] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  /* Отрендерить один раз содержимое БД */\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const itemsResponse = await axios.get(\"https://630c890c53a833c5342de89a.mockapi.io/items\");\n        const cartResponse = await axios.get(\"https://630c890c53a833c5342de89a.mockapi.io/cart\");\n        const favouritesResponse = await axios.get(\"https://630c890c53a833c5342de89a.mockapi.io/favourites\");\n        setIsLoading(false);\n        setCartItems(cartResponse.data);\n        setFavourites(favouritesResponse.data);\n        setItems(itemsResponse.data);\n      } catch (error) {\n        alert(\"Ошибка при запросе данных ;(\");\n        console.error(error);\n      }\n    }\n\n    fetchData();\n  }, []);\n  /* При клике на крестик на карточке удалить из корзины */\n\n  const onRemoveItem = id => {\n    try {\n      axios.delete(`https://630c890c53a833c5342de89a.mockapi.io/cart/${id}`);\n      setCartItems(prev => prev.filter(item => item.id !== id));\n    } catch (error) {\n      alert('Ошибка при удалении товара из корзины');\n    }\n  };\n  /* При клике на плюсик на карточке добавить в корзину */\n\n\n  const onAddToCart = async obj => {\n    try {\n      if (cartItems.find(item => Number(item.id) === Number(obj.id))) {\n        setCartItems(prev => prev.filter(item => Number(item.id) !== Number(obj.id)));\n        await axios.delete(`https://630c890c53a833c5342de89a.mockapi.io/cart/${obj.id}`);\n      } else {\n        setCartItems(prev => [...prev, obj]);\n        await axios.post(\"https://630c890c53a833c5342de89a.mockapi.io/cart\", obj);\n      }\n    } catch (error) {\n      alert(\"Ошибка добавления товара в корзину\");\n      console.log(error);\n    }\n  };\n  /* При клике на сердце добавить предмет в закладки / удалить из закладок */\n\n\n  const onAddToFavourite = async obj => {\n    try {\n      if (favourites.find(item => Number(item.id) === Number(obj.id))) {\n        axios.delete(`https://630c890c53a833c5342de89a.mockapi.io/favourites/${obj.id}`);\n        setFavourites(prev => prev.filter(item => Number(item.id) !== Number(obj.id)));\n      } else {\n        const {\n          data\n        } = await axios.post(\"https://630c890c53a833c5342de89a.mockapi.io/favourites\", obj);\n        setFavourites(prev => [...prev, data]);\n      }\n    } catch (error) {\n      alert(\"Не удалось добавить в закладки\");\n    }\n  };\n  /* Применить поиск при наборе текста в поле поиска */\n\n\n  const onChangeSearchInput = event => setSearchValue(event.target.value);\n\n  const isItemAdded = id => {\n    return cartItems.some(obj => Number(obj.id) === Number(id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      items,\n      cartItems,\n      favourites,\n      isItemAdded,\n      onAddToFavourite,\n      onAddToCart,\n      setCartOpened,\n      setCartItems\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper clear\",\n      children: [/*#__PURE__*/_jsxDEV(Drawer, {\n        items: cartItems,\n        onClose: () => setCartOpened(false),\n        onRemove: onRemoveItem,\n        opened: cartOpened\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Header, {\n        onClickCart: () => setCartOpened(true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Home, {\n            items: items,\n            cartItems: cartItems,\n            searchValue: searchValue,\n            setSearchValue: setSearchValue,\n            onChangeSearchInput: onChangeSearchInput,\n            onAddToFavourite: onAddToFavourite,\n            onAddToCart: onAddToCart,\n            isLoading: isLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/favourites\",\n          element: /*#__PURE__*/_jsxDEV(Favourites, {\n            onAddToFavourite: onAddToFavourite\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/orders\",\n          element: /*#__PURE__*/_jsxDEV(Orders, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 3\n  }, this);\n}\n\n_s(App, \"3/cwCEYQBvSWkT7yvW/eA6bo98Q=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Route","Routes","axios","Header","Drawer","AppContext","Orders","Home","Favourites","App","items","setItems","cartItems","setCartItems","favourites","setFavourites","searchValue","setSearchValue","cartOpened","setCartOpened","isLoading","setIsLoading","fetchData","itemsResponse","get","cartResponse","favouritesResponse","data","error","alert","console","onRemoveItem","id","delete","prev","filter","item","onAddToCart","obj","find","Number","post","log","onAddToFavourite","onChangeSearchInput","event","target","value","isItemAdded","some"],"sources":["/Users/cvine/frontend/react/react-sneaker-shop/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Header from \"./components/Header\";\nimport Drawer from \"./components/Drawer/Drawer\";\nimport AppContext from \"./context\";\nimport Orders from \"./pages/Orders\";\n\nimport Home from \"./pages/Home\";\nimport Favourites from \"./pages/Favourites\";\n\nfunction App() {\n\tconst [items, setItems] = useState([]);\n\tconst [cartItems, setCartItems] = useState([]);\n\tconst [favourites, setFavourites] = useState([]);\n\tconst [searchValue, setSearchValue] = useState(\"\");\n\tconst [cartOpened, setCartOpened] = useState(false);\n\tconst [isLoading, setIsLoading] = useState(true);\n\n\t/* Отрендерить один раз содержимое БД */\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\ttry {\n\t\t\t\tconst itemsResponse = await axios.get(\n\t\t\t\t\t\"https://630c890c53a833c5342de89a.mockapi.io/items\"\n\t\t\t\t);\n\t\t\t\tconst cartResponse = await axios.get(\n\t\t\t\t\t\"https://630c890c53a833c5342de89a.mockapi.io/cart\"\n\t\t\t\t);\n\t\t\t\tconst favouritesResponse = await axios.get(\n\t\t\t\t\t\"https://630c890c53a833c5342de89a.mockapi.io/favourites\"\n\t\t\t\t);\n\n\t\t\t\tsetIsLoading(false);\n\t\t\t\tsetCartItems(cartResponse.data);\n\t\t\t\tsetFavourites(favouritesResponse.data);\n\t\t\t\tsetItems(itemsResponse.data);\n\t\t\t} catch (error) {\n\t\t\t\talert(\"Ошибка при запросе данных ;(\");\n\t\t\t\tconsole.error(error);\n\t\t\t}\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\t/* При клике на крестик на карточке удалить из корзины */\n\tconst onRemoveItem = (id) => {\n\t\ttry {\n\t\t\taxios.delete(`https://630c890c53a833c5342de89a.mockapi.io/cart/${id}`);\n\t\t\tsetCartItems((prev) => prev.filter((item) => item.id !== id));\n\t\t} catch (error) {\n\t\t\talert('Ошибка при удалении товара из корзины')\n\t\t}\n\t};\n\n\t/* При клике на плюсик на карточке добавить в корзину */\n\tconst onAddToCart = async (obj) => {\n\t\ttry {\n\t\t\tif (cartItems.find((item) => Number(item.id) === Number(obj.id))) {\n\t\t\t\tsetCartItems((prev) =>\n\t\t\t\t\tprev.filter((item) => Number(item.id) !== Number(obj.id))\n\t\t\t\t);\n\t\t\t\tawait axios.delete(\n\t\t\t\t\t`https://630c890c53a833c5342de89a.mockapi.io/cart/${obj.id}`\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tsetCartItems((prev) => [...prev, obj]);\n\t\t\t\tawait axios.post(\n\t\t\t\t\t\"https://630c890c53a833c5342de89a.mockapi.io/cart\",\n\t\t\t\t\tobj\n\t\t\t\t);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\talert(\"Ошибка добавления товара в корзину\");\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\t/* При клике на сердце добавить предмет в закладки / удалить из закладок */\n\tconst onAddToFavourite = async (obj) => {\n\t\ttry {\n\t\t\tif (favourites.find((item) => Number(item.id) === Number(obj.id))) {\n\t\t\t\taxios.delete(\n\t\t\t\t\t`https://630c890c53a833c5342de89a.mockapi.io/favourites/${obj.id}`\n\t\t\t\t);\n\t\t\t\tsetFavourites((prev) =>\n\t\t\t\t\tprev.filter((item) => Number(item.id) !== Number(obj.id))\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tconst { data } = await axios.post(\n\t\t\t\t\t\"https://630c890c53a833c5342de89a.mockapi.io/favourites\",\n\t\t\t\t\tobj\n\t\t\t\t);\n\t\t\t\tsetFavourites((prev) => [...prev, data]);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\talert(\"Не удалось добавить в закладки\");\n\t\t}\n\t};\n\n\t/* Применить поиск при наборе текста в поле поиска */\n\tconst onChangeSearchInput = (event) => setSearchValue(event.target.value);\n\n\tconst isItemAdded = (id) => {\n\t\treturn cartItems.some((obj) => Number(obj.id) === Number(id));\n\t};\n\n\treturn (\n\t\t<AppContext.Provider\n\t\t\tvalue={{\n\t\t\t\titems,\n\t\t\t\tcartItems,\n\t\t\t\tfavourites,\n\t\t\t\tisItemAdded,\n\t\t\t\tonAddToFavourite,\n\t\t\t\tonAddToCart,\n\t\t\t\tsetCartOpened,\n\t\t\t\tsetCartItems,\n\t\t\t}}\n\t\t>\n\t\t\t<div className=\"wrapper clear\">\n\t\t\t\t<Drawer\n\t\t\t\t\titems={cartItems}\n\t\t\t\t\tonClose={() => setCartOpened(false)}\n\t\t\t\t\tonRemove={onRemoveItem}\n\t\t\t\t\topened={cartOpened}\n\t\t\t\t/>\n\t\t\t\t<Header onClickCart={() => setCartOpened(true)} />\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\telement={\n\t\t\t\t\t\t\t<Home\n\t\t\t\t\t\t\t\titems={items}\n\t\t\t\t\t\t\t\tcartItems={cartItems}\n\t\t\t\t\t\t\t\tsearchValue={searchValue}\n\t\t\t\t\t\t\t\tsetSearchValue={setSearchValue}\n\t\t\t\t\t\t\t\tonChangeSearchInput={onChangeSearchInput}\n\t\t\t\t\t\t\t\tonAddToFavourite={onAddToFavourite}\n\t\t\t\t\t\t\t\tonAddToCart={onAddToCart}\n\t\t\t\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/favourites\"\n\t\t\t\t\t\telement={<Favourites onAddToFavourite={onAddToFavourite} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path=\"/orders\" element={<Orders />} />\n\t\t\t\t</Routes>\n\t\t\t</div>\n\t\t</AppContext.Provider>\n\t);\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}