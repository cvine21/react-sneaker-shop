{"ast":null,"code":"var _jsxFileName = \"/Users/cvine/frontend/react/react-sneaker-shop/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Header from \"./components/Header\";\nimport Drawer from \"./components/Drawer\";\nimport AppContext from \"./context\";\nimport Home from \"./pages/Home\";\nimport Favourites from \"./pages/Favourites\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [favourites, setFavourites] = useState([]);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [cartOpened, setCartOpened] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  /* Отрендерить один раз содержимое БД */\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const itemsResponse = await axios.get(\"https://630c890c53a833c5342de89a.mockapi.io/items\");\n        const cartResponse = await axios.get(\"https://630c890c53a833c5342de89a.mockapi.io/cart\");\n        const favouritesResponse = await axios.get(\"https://630c890c53a833c5342de89a.mockapi.io/favourites\");\n        setIsLoading(false);\n        setCartItems(cartResponse.data);\n        setFavourites(favouritesResponse.data);\n        setItems(itemsResponse.data);\n      } catch (error) {\n        alert(\"Ошибка при запросе данных ;(\");\n        console.error(error);\n      }\n    }\n\n    fetchData();\n  }, []);\n  /* При клике на крестик на карточке удалить из корзины */\n\n  const onRemoveItem = id => {\n    axios.delete(`https://630c890c53a833c5342de89a.mockapi.io/cart/${id}`);\n    setCartItems(prev => prev.filter(item => item.id !== id));\n  };\n  /* При клике на плюсик на карточке добавить в корзину */\n\n\n  const onAddToCart = obj => {\n    if (cartItems.find(item => Number(item.id) === Number(obj.id))) {\n      axios.delete(`https://630c890c53a833c5342de89a.mockapi.io/cart/${obj.id}`);\n      setCartItems(prev => prev.filter(item => Number(item.id) !== Number(obj.id)));\n    } else {\n      axios.post(\"https://630c890c53a833c5342de89a.mockapi.io/cart\", obj);\n      setCartItems(prev => [...prev, obj]);\n    }\n  };\n  /* При клике на сердце добавить предмет в закладки / удалить из закладок */\n\n\n  const onAddToFavourite = async obj => {\n    try {\n      if (favourites.find(item => Number(item.id) === Number(obj.id))) {\n        axios.delete(`https://630c890c53a833c5342de89a.mockapi.io/favourites/${obj.id}`);\n        setFavourites(prev => prev.filter(item => Number(item.id) !== Number(obj.id)));\n      } else {\n        const {\n          data\n        } = await axios.post(\"https://630c890c53a833c5342de89a.mockapi.io/favourites\", obj);\n        setFavourites(prev => [...prev, data]);\n      }\n    } catch (error) {\n      alert(\"Не удалось добавить в закладки\");\n    }\n  };\n  /* Применить поиск при наборе текста в поле поиска */\n\n\n  const onChangeSearchInput = event => setSearchValue(event.target.value);\n\n  const isItemAdded = id => {\n    return cartItems.some(obj => Number(obj.id) === Number(id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      items,\n      cartItems,\n      favourites,\n      isItemAdded,\n      onAddToFavourite,\n      setCartOpened,\n      setCartItems\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper clear\",\n      children: [cartOpened && /*#__PURE__*/_jsxDEV(Drawer, {\n        items: cartItems,\n        onClose: () => setCartOpened(false),\n        onRemove: onRemoveItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Header, {\n        onClickCart: () => setCartOpened(true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Home, {\n            items: items,\n            cartItems: cartItems,\n            searchValue: searchValue,\n            setSearchValue: setSearchValue,\n            onChangeSearchInput: onChangeSearchInput,\n            onAddToFavourite: onAddToFavourite,\n            onAddToCart: onAddToCart,\n            isLoading: isLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/favourites\",\n          element: /*#__PURE__*/_jsxDEV(Favourites, {\n            onAddToFavourite: onAddToFavourite\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/favourites\",\n          element: /*#__PURE__*/_jsxDEV(Favourites, {\n            onAddToFavourite: onAddToFavourite\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 3\n  }, this);\n}\n\n_s(App, \"3/cwCEYQBvSWkT7yvW/eA6bo98Q=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Route","Routes","axios","Header","Drawer","AppContext","Home","Favourites","App","items","setItems","cartItems","setCartItems","favourites","setFavourites","searchValue","setSearchValue","cartOpened","setCartOpened","isLoading","setIsLoading","fetchData","itemsResponse","get","cartResponse","favouritesResponse","data","error","alert","console","onRemoveItem","id","delete","prev","filter","item","onAddToCart","obj","find","Number","post","onAddToFavourite","onChangeSearchInput","event","target","value","isItemAdded","some"],"sources":["/Users/cvine/frontend/react/react-sneaker-shop/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Header from \"./components/Header\";\nimport Drawer from \"./components/Drawer\";\nimport AppContext from \"./context\";\n\nimport Home from \"./pages/Home\";\nimport Favourites from \"./pages/Favourites\";\n\nfunction App() {\n\tconst [items, setItems] = useState([]);\n\tconst [cartItems, setCartItems] = useState([]);\n\tconst [favourites, setFavourites] = useState([]);\n\tconst [searchValue, setSearchValue] = useState(\"\");\n\tconst [cartOpened, setCartOpened] = useState(false);\n\tconst [isLoading, setIsLoading] = useState(true);\n\n\t/* Отрендерить один раз содержимое БД */\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\ttry {\n\t\t\t\tconst itemsResponse = await axios.get(\n\t\t\t\t\t\"https://630c890c53a833c5342de89a.mockapi.io/items\"\n\t\t\t\t);\n\t\t\t\tconst cartResponse = await axios.get(\n\t\t\t\t\t\"https://630c890c53a833c5342de89a.mockapi.io/cart\"\n\t\t\t\t);\n\t\t\t\tconst favouritesResponse = await axios.get(\n\t\t\t\t\t\"https://630c890c53a833c5342de89a.mockapi.io/favourites\"\n\t\t\t\t);\n\n\t\t\t\tsetIsLoading(false);\n\t\t\t\tsetCartItems(cartResponse.data);\n\t\t\t\tsetFavourites(favouritesResponse.data);\n\t\t\t\tsetItems(itemsResponse.data);\n\t\t\t} catch (error) {\n\t\t\t\talert(\"Ошибка при запросе данных ;(\");\n\t\t\t\tconsole.error(error);\n\t\t\t}\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\t/* При клике на крестик на карточке удалить из корзины */\n\tconst onRemoveItem = id => {\n\t\taxios.delete(`https://630c890c53a833c5342de89a.mockapi.io/cart/${id}`);\n\t\tsetCartItems(prev => prev.filter(item => item.id !== id));\n\t};\n\n\t/* При клике на плюсик на карточке добавить в корзину */\n\tconst onAddToCart = obj => {\n\t\tif (cartItems.find(item => Number(item.id) === Number(obj.id))) {\n\t\t\taxios.delete(\n\t\t\t\t`https://630c890c53a833c5342de89a.mockapi.io/cart/${obj.id}`\n\t\t\t);\n\t\t\tsetCartItems(prev =>\n\t\t\t\tprev.filter(item => Number(item.id) !== Number(obj.id))\n\t\t\t);\n\t\t} else {\n\t\t\taxios.post(\"https://630c890c53a833c5342de89a.mockapi.io/cart\", obj);\n\t\t\tsetCartItems(prev => [...prev, obj]);\n\t\t}\n\t};\n\n\t/* При клике на сердце добавить предмет в закладки / удалить из закладок */\n\tconst onAddToFavourite = async obj => {\n\t\ttry {\n\t\t\tif (favourites.find(item => Number(item.id) === Number(obj.id))) {\n\t\t\t\taxios.delete(\n\t\t\t\t\t`https://630c890c53a833c5342de89a.mockapi.io/favourites/${obj.id}`\n\t\t\t\t);\n\t\t\t\tsetFavourites(prev =>\n\t\t\t\t\tprev.filter(item => Number(item.id) !== Number(obj.id))\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tconst { data } = await axios.post(\n\t\t\t\t\t\"https://630c890c53a833c5342de89a.mockapi.io/favourites\",\n\t\t\t\t\tobj\n\t\t\t\t);\n\t\t\t\tsetFavourites(prev => [...prev, data]);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\talert(\"Не удалось добавить в закладки\");\n\t\t}\n\t};\n\n\t/* Применить поиск при наборе текста в поле поиска */\n\tconst onChangeSearchInput = event => setSearchValue(event.target.value);\n\n\tconst isItemAdded = id => {\n\t\treturn cartItems.some(obj => Number(obj.id) === Number(id));\n\t};\n\n\treturn (\n\t\t<AppContext.Provider\n\t\t\tvalue={{\n\t\t\t\titems,\n\t\t\t\tcartItems,\n\t\t\t\tfavourites,\n\t\t\t\tisItemAdded,\n\t\t\t\tonAddToFavourite,\n\t\t\t\tsetCartOpened,\n\t\t\t\tsetCartItems,\n\t\t\t}}\n\t\t>\n\t\t\t<div className=\"wrapper clear\">\n\t\t\t\t{cartOpened && (\n\t\t\t\t\t<Drawer\n\t\t\t\t\t\titems={cartItems}\n\t\t\t\t\t\tonClose={() => setCartOpened(false)}\n\t\t\t\t\t\tonRemove={onRemoveItem}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<Header onClickCart={() => setCartOpened(true)} />\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\telement={\n\t\t\t\t\t\t\t<Home\n\t\t\t\t\t\t\t\titems={items}\n\t\t\t\t\t\t\t\tcartItems={cartItems}\n\t\t\t\t\t\t\t\tsearchValue={searchValue}\n\t\t\t\t\t\t\t\tsetSearchValue={setSearchValue}\n\t\t\t\t\t\t\t\tonChangeSearchInput={onChangeSearchInput}\n\t\t\t\t\t\t\t\tonAddToFavourite={onAddToFavourite}\n\t\t\t\t\t\t\t\tonAddToCart={onAddToCart}\n\t\t\t\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/favourites\"\n\t\t\t\t\t\telement={<Favourites onAddToFavourite={onAddToFavourite} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/favourites\"\n\t\t\t\t\t\telement={<Favourites onAddToFavourite={onAddToFavourite} />}\n\t\t\t\t\t/>\n\t\t\t\t</Routes>\n\t\t\t</div>\n\t\t</AppContext.Provider>\n\t);\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}